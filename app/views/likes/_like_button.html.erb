<%= turbo_frame_tag "like_button_#{post.id}" do %>
  <div class="flex items-center space-x-4">
    <!-- Like Button -->
    <div class="flex items-center">
      <% if logged_in? && post.liked_by?(current_user) %>
        <%= button_to post_like_path(post), method: :delete,
            class: "flex items-center space-x-1 text-red-500 hover:text-red-600 transition-colors",
            data: { turbo_frame: "like_button_#{post.id}" } do %>
          <%= inline_svg_tag "svg/heart-filled.svg", class: "w-6 h-6" %>
        <% end %>
      <% elsif logged_in? %>
        <%= button_to post_like_path(post), method: :post,
            class: "flex items-center space-x-1 text-gray-500 hover:text-red-500 transition-colors",
            data: { turbo_frame: "like_button_#{post.id}" } do %>
          <%= inline_svg_tag "svg/heart-outline.svg", class: "w-6 h-6" %>
        <% end %>
      <% else %>
        <div class="flex items-center space-x-1 text-gray-400">
          <%= inline_svg_tag "svg/heart-outline.svg", class: "w-6 h-6" %>
        </div>
      <% end %>

      <!-- Likes Count (clickable to open modal) -->
      <% if post.likes_count > 0 %>
        <button type="button"
            class="text-sm font-medium text-gray-600 hover:text-gray-800 ml-1"
            data-action="click->open-modal#open"
            data-open-modal-url-param="<%= likers_post_like_path(post) %>"
            data-open-modal-target-param="likes-modal">
          <span id="likes_count_<%= post.id %>"><%= post.likes_count %></span>
        </button>
      <% else %>
        <span id="likes_count_<%= post.id %>" class="text-sm font-medium text-gray-400 ml-1">0</span>
      <% end %>
    </div>

    <!-- Comments Button (clickable to open modal) -->
    <button type="button"
        class="flex items-center space-x-1 text-gray-500 hover:text-gray-700 transition-colors"
        data-action="click->open-modal#open"
        data-open-modal-url-param="<%= modal_post_comments_path(post) %>"
        data-open-modal-target-param="comments-modal">
      <%= inline_svg_tag "svg/comment.svg", class: "w-6 h-6" %>
      <span id="comments_count_<%= post.id %>" class="text-sm font-medium"><%= post.comments_count %></span>
    </button>
  </div>
<% end %>
