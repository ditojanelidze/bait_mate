<div class="max-w-2xl mx-auto">
  <h1 class="text-2xl font-bold text-gray-800 mb-6"><%= t("posts.title") %></h1>

  <% if @posts.any? %>
    <div class="space-y-6">
      <% @posts.each do |post| %>
        <article class="bg-white rounded-2xl shadow-lg overflow-hidden">
          <!-- Post Header -->
          <div class="flex items-center p-4">
            <% if post.user.avatar.attached? %>
              <%= image_tag post.user.avatar.variant(resize_to_fill: [40, 40]),
                  class: "w-10 h-10 rounded-full object-cover" %>
            <% else %>
              <div class="w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center">
                <span class="text-white font-medium"><%= post.user.first_name[0] %></span>
              </div>
            <% end %>
            <div class="ml-3">
              <p class="font-medium text-gray-800"><%= post.user.full_name %></p>
              <p class="text-xs text-gray-500"><%= l post.created_at, format: :short %></p>
            </div>
            <% if logged_in? && post.user_id == current_user.id %>
              <div class="ml-auto">
                <%= link_to edit_post_path(post), class: "text-gray-400 hover:text-blue-600" do %>
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
                  </svg>
                <% end %>
              </div>
            <% end %>
          </div>

          <!-- Post Image -->
          <% if post.image.attached? %>
            <%= link_to post do %>
              <%= image_tag post.image.variant(resize_to_limit: [800, 800]),
                  class: "w-full aspect-square object-cover" %>
            <% end %>
          <% end %>

          <!-- Post Content -->
          <div class="p-4">
            <p class="text-gray-800 mb-3"><%= post.description %></p>

            <div class="grid grid-cols-2 gap-2 text-sm">
              <div class="bg-blue-50 rounded-lg p-2">
                <span class="text-blue-600 font-medium"><%= t("posts.specie") %>:</span>
                <span class="text-gray-700"><%= post.specie %></span>
              </div>
              <div class="bg-green-50 rounded-lg p-2">
                <span class="text-green-600 font-medium"><%= t("posts.location") %>:</span>
                <span class="text-gray-700"><%= post.location %></span>
              </div>
              <div class="bg-purple-50 rounded-lg p-2">
                <span class="text-purple-600 font-medium"><%= t("posts.rod") %>:</span>
                <span class="text-gray-700"><%= post.rod %></span>
              </div>
              <div class="bg-orange-50 rounded-lg p-2">
                <span class="text-orange-600 font-medium"><%= t("posts.bait") %>:</span>
                <span class="text-gray-700"><%= post.bait %></span>
              </div>
            </div>
          </div>
        </article>
      <% end %>
    </div>
  <% else %>
    <div class="bg-white rounded-2xl shadow-lg p-8 text-center">
      <svg class="w-16 h-16 text-gray-300 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
      </svg>
      <p class="text-gray-500"><%= t("posts.no_posts") %></p>
    </div>
  <% end %>
</div>
